# IT Asset Manager - Environment Configuration

#===============================================================================
# CONTAINER CONFIGURATION (for Docker/Unraid compatibility)
#===============================================================================

# User and Group IDs (important for file permissions)
# For Unraid: typically PUID=99 and PGID=100
# For standard Docker: use your user's UID/GID (run `id` command to find them)
PUID=99
PGID=100

# Timezone (use your local timezone)
TZ=America/New_York

#===============================================================================
# DATABASE CONFIGURATION
#===============================================================================

DB_HOST=postgres
DB_PORT=5432
DB_NAME=inventory_db
DB_USER=postgres
DB_PASSWORD=your-secure-password-here

# Database Initialization (set to true for first run)
INIT_DB=true

#===============================================================================
# APPLICATION CONFIGURATION
#===============================================================================

# Session Secret (REQUIRED - Generate with: openssl rand -base64 64)
# This MUST be changed in production!
SESSION_SECRET=GENERATE_SECURE_SESSION_SECRET_MINIMUM_32_CHARS

# Session timeout in milliseconds (24 hours = 86400000)
SESSION_TIMEOUT=86400000

# Force HTTPS redirect in production
FORCE_HTTPS=false

# Application Environment
NODE_ENV=production
PORT=3000

#===============================================================================
# REDIS CONFIGURATION (Optional - for session storage and caching)
#===============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

#===============================================================================
# PERFORMANCE & SECURITY CONFIGURATION
#===============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500

# Database Security
DB_MAX_CONNECTIONS=20
DB_ENABLE_SSL=false

# Password Policy (minimum requirements)
MIN_PASSWORD_LENGTH=8
REQUIRE_PASSWORD_COMPLEXITY=true

# Account Lockout Settings
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=1800000

# File Upload Security
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Logging Level (error, warn, info, debug)
LOG_LEVEL=info

# Content Security Policy Configuration
CSP_REPORT_ONLY=false
CSP_REPORT_URI=/csp-report
STRICT_CSP=true

# Cloudflare Configuration (if using Cloudflare)
DISABLE_CLOUDFLARE_OPTIMIZATIONS=true
CLOUDFLARE_AUTO_MINIFY=false
CLOUDFLARE_ROCKET_LOADER=false

# Production Security Settings
COOKIE_SECURE=true
COOKIE_HTTPONLY=true
COOKIE_SAMESITE=Lax
SESSION_SECURE=true

# Clustering (set to true to use multiple CPU cores)
ENABLE_CLUSTERING=false
CLUSTER_WORKERS=0

# Node.js Memory Configuration
NODE_OPTIONS=--max-old-space-size=1024 --unhandled-rejections=warn

# Optional: Email Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password

# Optional: File Upload Settings
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads

# Optional: Backup Settings
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *
