<div class="content-header">
  <div class="header-title">
    <h1><i class="fas fa-plus"></i> Add New Client</h1>
    <p>Create a new client record</p>
  </div>
  <div class="header-actions">
    <a href="/clients" class="btn btn-secondary">
      <i class="fas fa-arrow-left"></i> Back to Clients
    </a>
  </div>
</div>

<% if (locals.errors && errors.length > 0) { %>
  <div class="alert alert-danger">
    <i class="fas fa-exclamation-triangle"></i>
    <strong>Please fix the following errors:</strong>
    <ul class="mb-0 mt-2">
      <% errors.forEach(error => { %>
        <li><%= error %></li>
      <% }); %>
    </ul>
  </div>
<% } %>

<div class="form-container">
  <form method="POST" action="/clients" class="needs-validation" novalidate>
    <div class="form-section">
      <h3><i class="fas fa-info-circle"></i> Client Information</h3>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="client_id" class="required">Client ID</label>
          <input 
            type="text" 
            class="form-control" 
            id="client_id" 
            name="client_id" 
            value="<%= locals.formData ? getFormValue("client_id") : '' %>"
            placeholder="e.g., CLI001"
            required
          >
          <div class="invalid-feedback">
            Please provide a valid client ID.
          </div>
          <small class="form-text text-muted">
            Unique identifier for the client (e.g., CLI001, CLIENT-A)
          </small>
        </div>
        
        <div class="form-group col-md-6">
          <label for="name" class="required">Client Name</label>
          <input 
            type="text" 
            class="form-control" 
            id="name" 
            name="name" 
            value="<%= locals.formData ? getFormValue("name") : '' %>"
            placeholder="e.g., TechCorp Solutions"
            required
          >
          <div class="invalid-feedback">
            Please provide a client name.
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="description"><%= t("items.description") %></label>
        <textarea 
          class="form-control" 
          id="description" 
          name="description" 
          rows="4"
          placeholder="Optional description of the client..."
        ><%= locals.formData ? getFormValue("description") : '' %></textarea>
        <small class="form-text text-muted">
          Optional description or notes about this client
        </small>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">
        <i class="fas fa-save"></i> Create Client
      </button>
      <a href="/clients" class="btn btn-secondary">
        <i class="fas fa-times"></i> Cancel
      </a>
    </div>
  </form>
</div>

<script>
// Bootstrap form validation
(function() {
  'use strict';
  window.addEventListener('load', function() {
    var forms = document.getElementsByClassName('needs-validation');
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>