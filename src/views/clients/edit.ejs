<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow p-8">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">
      <div>
        <h1 class="text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2 mb-1">
          <i class="fas fa-edit"></i> Edit Client
        </h1>
        <p class="text-gray-500 dark:text-gray-400">Update client information for: <strong><%= client.name %></strong></p>
      </div>
      <div>
        <a href="/clients/<%= client.id %>" class="inline-flex items-center px-4 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-md transition">
          <i class="fas fa-arrow-left mr-2"></i> Back to Client
        </a>
      </div>
    </div>

    <% if (locals.errors && errors.length > 0) { %>
      <div class="mb-6 flex flex-col gap-2 px-4 py-3 rounded-lg bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-700">
        <div class="flex items-center gap-2">
          <i class="fas fa-exclamation-triangle"></i>
          <strong>Please fix the following errors:</strong>
        </div>
        <ul class="list-disc pl-6">
          <% errors.forEach(error => { %>
            <li><%= error %></li>
          <% }); %>
        </ul>
      </div>
    <% } %>

    <form method="POST" action="/clients/<%= client.id %>" novalidate class="space-y-8">
      <div>
        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 flex items-center gap-2 mb-4">
          <i class="fas fa-info-circle"></i> Client Information
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label for="client_id" class="block font-semibold mb-1 text-gray-700 dark:text-gray-200">Client ID <span class="text-red-500">*</span></label>
            <input
              type="text"
              id="client_id"
              name="client_id"
              value="<%= client.client_id %>"
              required
              class="w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
            >
            <div class="text-xs text-red-600 dark:text-red-400 mt-1 hidden">Please provide a valid client ID.</div>
            <small class="text-gray-500 dark:text-gray-400">Unique identifier for the client (e.g., CLI001, CLIENT-A)</small>
          </div>
          <div>
            <label for="name" class="block font-semibold mb-1 text-gray-700 dark:text-gray-200">Client Name <span class="text-red-500">*</span></label>
            <input
              type="text"
              id="name"
              name="name"
              value="<%= client.name %>"
              required
              class="w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
            >
            <div class="text-xs text-red-600 dark:text-red-400 mt-1 hidden">Please provide a client name.</div>
          </div>
        </div>
        <div class="mt-6">
          <label for="description" class="block font-semibold mb-1 text-gray-700 dark:text-gray-200">Description</label>
          <textarea
            id="description"
            name="description"
            rows="4"
            class="w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
          ><%= client.description || '' %></textarea>
          <small class="text-gray-500 dark:text-gray-400">Optional description or notes about this client</small>
        </div>
      </div>

      <div class="flex gap-2 mt-4">
        <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md transition flex items-center gap-2">
          <i class="fas fa-save"></i> Update Client
        </button>
        <a href="/clients/<%= client.id %>" class="px-6 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-md transition flex items-center gap-2">
          <i class="fas fa-times"></i> Cancel
        </a>
      </div>
    </form>
  </div>
</div>

<script>
  // Simple client-side validation for required fields (optional, for Tailwind)
  document.querySelector('form').addEventListener('submit', function(e) {
    let valid = true;
    ['client_id', 'name'].forEach(function(id) {
      const input = document.getElementById(id);
      if (!input.value.trim()) {
        input.classList.add('border-red-500', 'focus:ring-red-500');
        input.nextElementSibling.classList.remove('hidden');
        valid = false;
      } else {
        input.classList.remove('border-red-500', 'focus:ring-red-500');
        input.nextElementSibling.classList.add('hidden');
      }
    });
    if (!valid) e.preventDefault();
  });
</script>
