<div class="employee-profile">
  <h1><%= employee.name %></h1>
  <div class="employee-id"><%= employee.cep %></div>

  <div class="employee-details">
    <div class="detail-group">
      <div class="detail">
        <span class="label">Email:</span>
        <span class="value"><%= employee.email %></span>
      </div>

      <div class="detail">
        <span class="label">Department:</span>
        <span class="value"><%= employee.department_name || 'Not assigned' %></span>
      </div>

      <div class="detail">
        <span class="label">Platform:</span>
        <span class="value"><%= employee.platform_name || 'Not assigned' %></span>
      </div>

      <div class="detail">
        <span class="label">Office Software:</span>
        <span class="value"><%= employee.office_name || 'Not assigned' %></span>
      </div>

      <div class="detail">
        <span class="label">Joined Date:</span>
        <span class="value"><%= new Date(employee.joined_date).toLocaleDateString() %></span>
      </div>

      <% if (employee.left_date) { %>
        <div class="detail">
          <span class="label">Left Date:</span>
          <span class="value"><%= new Date(employee.left_date).toLocaleDateString() %></span>
        </div>
      <% } %>
    </div>
  </div>

  <div class="actions">
    <a href="/employees" class="btn">Back to Employees</a>
    <a href="/employees/<%= employee.id %>/edit" class="btn">Edit</a>
    <form style="display: inline;" method="POST" action="/employees/<%= employee.id %>/delete">
      <button type="submit" class="btn btn-danger delete-btn">Delete</button>
    </form>
  </div>
</div>

<div class="assigned-items">
  <h2>Assigned Items</h2>

  <% if (items && items.length > 0) { %>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Type</th>
          <th>Brand</th>
          <th>Model</th>
          <th>Date Assigned</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% items.forEach(item => { %>
          <tr>
            <td><%= item.cep_brc %></td>
            <td><%= item.name %></td>
            <td><%= item.type_name || 'N/A' %></td>
            <td><%= item.brand_name || 'N/A' %></td>
            <td><%= item.model || 'N/A' %></td>
            <td><%= item.date_assigned ? new Date(item.date_assigned).toLocaleDateString() : 'N/A' %></td>
            <td>
              <a href="/items/<%= item.id %>/<%= item.cep_brc %>" class="btn">View</a>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } else { %>
    <p>No items assigned to this employee.</p>
  <% } %>
</div>

<style>
  .employee-profile {
    background-color: white;
    border-radius: 8px;
    padding: 2rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    margin-bottom: 2rem;
  }

  .employee-id {
    color: #666;
    margin-bottom: 1.5rem;
    font-size: 1.1rem;
  }

  .employee-details {
    margin-bottom: 2rem;
  }

  .detail-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
  }

  .detail {
    margin-bottom: 0.5rem;
  }

  .label {
    font-weight: 600;
    color: #444;
    display: block;
  }

  .value {
    display: block;
  }

  .assigned-items {
    background-color: white;
    border-radius: 8px;
    padding: 2rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .assigned-items h2 {
    margin-bottom: 1.5rem;
  }
</style>
