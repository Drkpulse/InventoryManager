<div class="container mx-auto px-4 py-8">
  <!-- Header & Breadcrumb -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">
    <div>
      <nav class="flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2">
        <a href="/employees" class="hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-1">
          <i class="fas fa-users"></i> Employees
        </a>
        <i class="fas fa-chevron-right mx-2"></i>
        <span class="text-gray-700 dark:text-gray-200"><%= employee.name %></span>
      </nav>
      <h1 class="text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2"><%= employee.name %></h1>
      <div class="flex items-center gap-3 mt-2">
        <span class="font-mono bg-gray-100 dark:bg-gray-900 px-2 py-0.5 rounded text-xs text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700">ID: <%= employee.cep %></span>
        <%
          let statusClass = 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 border-green-200 dark:border-green-700';
          let statusIcon = 'fas fa-check-circle';
          let statusText = 'Active';
          if (employee.left_date) {
            statusClass = 'bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 border-red-200 dark:border-red-700';
            statusIcon = 'fas fa-user-times';
            statusText = 'Former Employee';
          }
        %>
        <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full border text-xs font-semibold <%= statusClass %>">
          <i class="<%= statusIcon %>"></i> <%= statusText %>
        </span>
      </div>
    </div>
    <div class="flex flex-wrap gap-2 mt-4 md:mt-0">
      <a href="/employees" class="inline-flex items-center px-4 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-md transition">
        <i class="fas fa-arrow-left mr-2"></i> Back to Employees
      </a>
      <a href="/employees/<%= employee.id %>/edit" class="inline-flex items-center px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-md transition">
        <i class="fas fa-edit mr-2"></i> Edit
      </a>
      <a href="/employees/<%= employee.id %>/history" class="inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-md transition">
        <i class="fas fa-history mr-2"></i> History
      </a>
      <button onclick="printEmployeeCard()" class="inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-md transition">
        <i class="fas fa-print mr-2"></i> Print Card
      </button>
      <button type="button" class="inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-md transition" id="deleteEmployeeBtn">
        <i class="fas fa-trash mr-2"></i> Delete
      </button>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Main Info Panel -->
    <div class="lg:col-span-2 flex flex-col gap-8">
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-8">
        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2 mb-6">
          <i class="fas fa-user"></i> Employee Information
        </h2>
        <dl class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4">
          <div>
            <dt class="text-xs font-semibold text-gray-500 dark:text-gray-400">Employee ID</dt>
            <dd class="font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 inline-block"><%= employee.cep %></dd>
          </div>
          <div>
            <dt class="text-xs font-semibold text-gray-500 dark:text-gray-400">Email Address</dt>
            <dd>
              <a href="mailto:<%= employee.email %>" class="text-gray-700 dark:text-gray-200 hover:underline flex items-center gap-1">
                <i class="fas fa-envelope"></i> <%= employee.email %>
              </a>
            </dd>
          </div>
          <div>
            <dt class="text-xs font-semibold text-gray-500 dark:text-gray-400">Department</dt>
            <dd>
              <% if (employee.department_name) { %>
                <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs font-semibold">
                  <i class="fas fa-building"></i> <%= employee.department_name %>
                </span>
              <% } else { %>
                <span class="text-gray-400 dark:text-gray-500 text-xs">Not assigned</span>
              <% } %>
            </dd>
          </div>
          <div>
            <dt class="text-xs font-semibold text-gray-500 dark:text-gray-400">Location</dt>
            <dd>
              <% if (employee.location_name) { %>
                <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-xs font-semibold">
                  <i class="fas fa-map-marker-alt"></i> <%= employee.location_name %>
                </span>
              <% } else { %>
                <span class="text-gray-400 dark:text-gray-500 text-xs">Not assigned</span>
              <% } %>
            </dd>
          </div>
          <div>
            <dt class="text-xs font-semibold text-gray-500 dark:text-gray-400">Start Date</dt>
            <dd class="flex items-center gap-1">
              <i class="fas fa-calendar-plus"></i>
              <span>
                <%= new Date(employee.joined_date).toLocaleDateString('en-US', {
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric'
                }) %>
              </span>
            </dd>
          </div>
          <% if (employee.left_date) { %>
          <div>
            <dt class="text-xs font-semibold text-gray-500 dark:text-gray-400">End Date</dt>
            <dd class="flex items-center gap-1">
              <i class="fas fa-calendar-times"></i>
              <span>
                <%= new Date(employee.left_date).toLocaleDateString('en-US', {
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric'
                }) %>
              </span>
            </dd>
          </div>
          <% } %>
          <% if (employee.job_title) { %>
          <div>
            <dt class="text-xs font-semibold text-gray-500 dark:text-gray-400">Job Title</dt>
            <dd class="flex items-center gap-1">
              <i class="fas fa-user-tie"></i> <span><%= employee.job_title %></span>
            </dd>
          </div>
          <% } %>
        </dl>
      </div>

      <!-- Software Assignments -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-8">
        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2 mb-6">
          <i class="fas fa-laptop-code"></i> Software Assignments
        </h2>
        <% if (software && software.length > 0) { %>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <% software.forEach(sw => { %>
              <div class="bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4 flex flex-col gap-2">
                <div class="flex items-center gap-2">
                  <span class="font-semibold text-gray-800 dark:text-gray-100"><%= sw.name %></span>
                  <% if (sw.version) { %>
                    <span class="bg-gray-200 dark:bg-gray-700 text-xs rounded px-2 py-0.5">v<%= sw.version %></span>
                  <% } %>
                </div>
                <div class="flex flex-wrap gap-2 text-xs text-gray-600 dark:text-gray-400">
                  <% if (sw.vendor) { %>
                    <span><i class="fas fa-building"></i> <%= sw.vendor %></span>
                  <% } %>
                  <% if (sw.license_type) { %>
                    <span class="bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded px-2 py-0.5"><i class="fas fa-certificate"></i> <%= sw.license_type %></span>
                  <% } %>
                </div>
                <% if (sw.assigned_date) { %>
                  <div class="text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1">
                    <i class="fas fa-calendar-check"></i>
                    Assigned <%= new Date(sw.assigned_date).toLocaleDateString() %>
                  </div>
                <% } %>
                <% if (sw.license_key) { %>
                  <div class="text-xs text-gray-700 dark:text-gray-200 flex items-center gap-1">
                    <i class="fas fa-key"></i>
                    <span class="font-mono bg-gray-100 dark:bg-gray-900 px-2 py-0.5 rounded"><%= sw.license_key %></span>
                  </div>
                <% } %>
              </div>
            <% }) %>
          </div>
        <% } else { %>
          <div class="flex flex-col items-center justify-center py-8 text-center border border-dashed border-blue-400 rounded bg-blue-50 dark:bg-blue-950">
            <div class="text-4xl text-blue-500 mb-2">
              <i class="fas fa-laptop-code"></i>
            </div>
            <h4 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mb-1">No Software Assigned</h4>
            <p class="text-gray-500 dark:text-gray-400">This employee doesn't have any software licenses assigned yet.</p>
          </div>
        <% } %>
      </div>
    </div>

    <!-- Assets Panel & Quick Actions -->
    <div class="flex flex-col gap-8">
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-8">
        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2 mb-6">
          <i class="fas fa-boxes"></i> Assigned Assets
          <% if (items && items.length > 0) { %>
            <span class="ml-2 bg-blue-600 text-white px-2 py-0.5 rounded text-xs font-semibold"><%= items.length %></span>
          <% } %>
        </h2>
        <% if (items && items.length > 0) { %>
          <div class="flex flex-col gap-4">
            <% items.forEach(item => { %>
              <div class="bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4 flex flex-col gap-2">
                <div class="flex items-center justify-between">
                  <span class="font-mono bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded text-xs font-semibold"><%= item.cep_brc %></span>
                  <a href="/items/<%= item.id %>/<%= item.cep_brc %>" class="inline-flex items-center px-2 py-1 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100 rounded transition" title="View Asset">
                    <i class="fas fa-eye"></i>
                  </a>
                </div>
                <div>
                  <h4 class="font-semibold text-gray-800 dark:text-gray-100"><a href="/items/<%= item.id %>/<%= item.cep_brc %>" class="hover:underline"><%= item.name %></a></h4>
                  <div class="grid grid-cols-1 gap-1 text-xs text-gray-600 dark:text-gray-400 mt-1">
                    <div><span class="font-semibold">Type:</span> <%= item.type_name || 'N/A' %></div>
                    <% if (item.brand_name) { %>
                      <div><span class="font-semibold">Brand:</span> <%= item.brand_name %></div>
                    <% } %>
                    <% if (item.model) { %>
                      <div><span class="font-semibold">Model:</span> <%= item.model %></div>
                    <% } %>
                    <% if (item.date_assigned) { %>
                      <div><span class="font-semibold">Assigned:</span> <i class="fas fa-calendar"></i> <%= new Date(item.date_assigned).toLocaleDateString() %></div>
                    <% } %>
                  </div>
                </div>
              </div>
            <% }) %>
          </div>
          <div class="mt-6 flex gap-8">
            <div>
              <span class="block text-2xl font-bold text-blue-700 dark:text-blue-300"><%= items.length %></span>
              <span class="block text-xs text-gray-500 dark:text-gray-400">Total Assets</span>
            </div>
            <div>
              <span class="block text-2xl font-bold text-blue-700 dark:text-blue-300"><%= [...new Set(items.map(item => item.type_name).filter(Boolean))].length %></span>
              <span class="block text-xs text-gray-500 dark:text-gray-400">Asset Types</span>
            </div>
          </div>
        <% } else { %>
          <div class="flex flex-col items-center justify-center py-8 text-center border border-dashed border-blue-400 rounded bg-blue-50 dark:bg-blue-950">
            <div class="text-4xl text-blue-500 mb-2">
              <i class="fas fa-box-open"></i>
            </div>
            <h4 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mb-1">No Assets Assigned</h4>
            <p class="text-gray-500 dark:text-gray-400">This employee doesn't have any assets assigned currently.</p>
          </div>
        <% } %>
      </div>
      <!-- Quick Actions -->
      <div class="bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-6">
        <h3 class="text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3">Quick Actions</h3>
        <div class="flex flex-col gap-2">
          <a href="/employees/<%= employee.id %>/edit" class="inline-flex items-center gap-2 px-3 py-2 rounded bg-yellow-500 hover:bg-yellow-600 text-white font-semibold transition">
            <i class="fas fa-edit"></i> Edit Employee
          </a>
          <a href="/employees/<%= employee.id %>/history" class="inline-flex items-center gap-2 px-3 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white font-semibold transition">
            <i class="fas fa-history"></i> View History
          </a>
          <button onclick="printEmployeeCard()" class="inline-flex items-center gap-2 px-3 py-2 rounded bg-green-600 hover:bg-green-700 text-white font-semibold transition">
            <i class="fas fa-print"></i> Print Card
          </button>
          <% if (items && items.length > 0) { %>
            <button onclick="generateAssetReport()" class="inline-flex items-center gap-2 px-3 py-2 rounded bg-purple-600 hover:bg-purple-700 text-white font-semibold transition">
              <i class="fas fa-file-alt"></i> Asset Report
            </button>
          <% } %>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40" id="deleteEmployeeModal" style="display:none;">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md w-full p-6">
      <div class="flex items-center gap-3 mb-4">
        <i class="fas fa-exclamation-triangle text-yellow-600 dark:text-yellow-400 text-2xl"></i>
        <h4 class="text-lg font-bold text-gray-800 dark:text-gray-100">Confirm Employee Deletion</h4>
      </div>
      <div class="mb-4">
        <div id="noAssignedItems" style="display: none;">
          <p>Are you sure you want to delete <strong><%= employee.name %></strong>? This action cannot be undone.</p>
        </div>
        <div id="hasAssignedItems" style="display: none;">
          <p>This employee has assigned assets that will be unassigned:</p>
          <div class="max-h-60 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-900 my-3">
            <div id="assignedAssetsList" class="p-3"></div>
          </div>
          <div class="flex items-center gap-2 px-3 py-2 bg-yellow-100 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded text-yellow-800 dark:text-yellow-200 text-sm">
            <i class="fas fa-exclamation-triangle"></i>
            <span>All these assets will be unassigned and the employee will be deleted. This cannot be undone.</span>
          </div>
        </div>
      </div>
      <div class="flex gap-2 justify-end">
        <button type="button" class="inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-md transition" id="confirmDelete">
          <i class="fas fa-trash mr-2"></i> Delete Employee
        </button>
        <button type="button" class="inline-flex items-center px-4 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-md transition" id="cancelDelete">
          <i class="fas fa-times mr-2"></i> Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const deleteButton = document.getElementById('deleteEmployeeBtn');
  const modal = document.getElementById('deleteEmployeeModal');
  const cancelButton = document.getElementById('cancelDelete');
  const confirmButton = document.getElementById('confirmDelete');
  const noAssignedItems = document.getElementById('noAssignedItems');
  const hasAssignedItems = document.getElementById('hasAssignedItems');
  const assignedAssetsList = document.getElementById('assignedAssetsList');

  deleteButton.addEventListener('click', function() {
    fetchAssignedItems();
  });

  cancelButton.addEventListener('click', function() {
    modal.style.display = 'none';
  });

  confirmButton.addEventListener('click', function() {
    unassignAndDeleteEmployee();
  });

  modal.addEventListener('click', function(event) {
    if (event.target === modal) {
      modal.style.display = 'none';
    }
  });

  function fetchAssignedItems() {
    fetch('/employees/<%= employee.id %>/delete', {
      method: 'POST',
      headers: {
        'X-Requested-With': 'XMLHttpRequest',
        'Content-Type': 'application/json'
      }
    })
    .then(response => response.json())
    .then(data => {
      if (data.hasAssignedItems) {
        hasAssignedItems.style.display = 'block';
        noAssignedItems.style.display = 'none';
        assignedAssetsList.innerHTML = '';
        data.items.forEach(item => {
          const assetCard = document.createElement('div');
          assetCard.className = 'flex items-center justify-between bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded px-3 py-2 mb-2';
          assetCard.innerHTML = `
            <span class="font-mono bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded text-xs font-semibold">${item.cep_brc}</span>
            <span class="font-semibold text-gray-800 dark:text-gray-100">${item.name}</span>
            <span class="text-xs text-gray-500 dark:text-gray-400">${item.type_name || 'N/A'}</span>
          `;
          assignedAssetsList.appendChild(assetCard);
        });
      } else {
        hasAssignedItems.style.display = 'none';
        noAssignedItems.style.display = 'block';
      }
      modal.style.display = 'flex';
    })
    .catch(error => {
      console.error('Error fetching assigned items:', error);
      alert('Error checking assigned items. Please try again.');
    });
  }

  function unassignAndDeleteEmployee() {
    confirmButton.disabled = true;
    confirmButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
    fetch('/employees/<%= employee.id %>/unassign-and-delete', {
      method: 'POST',
      headers: {
        'X-Requested-With': 'XMLHttpRequest',
        'Content-Type': 'application/json'
      }
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        window.location.href = '/employees?deleted=true';
      } else {
        throw new Error(data.error || 'Unknown error occurred');
      }
    })
    .catch(error => {
      alert('Error deleting employee: ' + error.message);
      confirmButton.disabled = false;
      confirmButton.innerHTML = '<i class="fas fa-trash mr-2"></i> Delete Employee';
    });
  }
});

// Print employee card function
function printEmployeeCard() {
  const printWindow = window.open('', '_blank');
  printWindow.document.write(`
    <html>
      <head>
        <title>Employee Card - <%= employee.name %></title>
        <style>
          body { font-family: Arial, sans-serif; padding: 20px; margin: 0; background: white; }
          .employee-card { border: 2px solid #333; padding: 20px; width: 400px; background: white; border-radius: 8px; }
          .employee-header { text-align: center; margin-bottom: 20px; border-bottom: 1px solid #333; padding-bottom: 15px; }
          .employee-name { font-size: 24px; font-weight: bold; margin-bottom: 8px; }
          .employee-id { font-size: 18px; font-family: 'Courier New', monospace; color: #666; }
          .employee-details { font-size: 14px; line-height: 1.8; }
          .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; }
          .detail-label { font-weight: bold; color: #333; }
          .detail-value { color: #666; }
        </style>
      </head>
      <body>
        <div class="employee-card">
          <div class="employee-header">
            <div class="employee-name"><%= employee.name %></div>
            <div class="employee-id"><%= employee.cep %></div>
          </div>
          <div class="employee-details">
            <div class="detail-row">
              <span class="detail-label">Email:</span>
              <span class="detail-value"><%= employee.email %></span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Department:</span>
              <span class="detail-value"><%= employee.department_name || 'N/A' %></span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Location:</span>
              <span class="detail-value"><%= employee.location_name || 'N/A' %></span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Start Date:</span>
              <span class="detail-value"><%= new Date(employee.joined_date).toLocaleDateString() %></span>
            </div>
            <% if (employee.job_title) { %>
            <div class="detail-row">
              <span class="detail-label">Job Title:</span>
              <span class="detail-value"><%= employee.job_title %></span>
            </div>
            <% } %>
          </div>
        </div>
      </body>
    </html>
  `);
  printWindow.document.close();
  printWindow.print();
  printWindow.close();
}

// Generate asset report function
function generateAssetReport() {
  const params = new URLSearchParams();
  params.append('employee_id', '<%= employee.id %>');
  params.append('report_type', 'employee_assets');
  params.append('export_timestamp', new Date().toISOString());
  const iframe = document.createElement('iframe');
  iframe.style.display = 'none';
  iframe.src = `/reports/employee-assets?${params.toString()}`;
  document.body.appendChild(iframe);
  setTimeout(() => { document.body.removeChild(iframe); }, 2000);
}
</script>

<style>
/* Employee Show Page Specific Styles */
.employee-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-top: 0.5rem;
}

.employee-id-display {
  font-family: 'Courier New', monospace;
  background: #f8f9fa;
  padding: 0.25rem 0.75rem;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: 600;
  color: #495057;
  border: 1px solid #e9ecef;
}

.employee-status {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.4rem 0.8rem;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 600;
}

.employee-status.status-active {
  background: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.employee-status.status-inactive {
  background: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

/* Main Content Layout */
.employee-details-layout {
  display: grid;
  grid-template-columns: 1fr 350px;
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem 2rem;
}

/* Software Assignments Styling */
.software-assignments-grid {
  display: grid;
  gap: 1rem;
}

.software-assignment-card {
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.software-assignment-card:hover {
  background: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.software-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.75rem;
}

.software-name {
  font-weight: 600;
  color: var(--primary);
  font-size: 1rem;
}

.version {
  background: #e9ecef;
  color: #495057;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
}

.software-details {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
  flex-wrap: wrap;
}

.vendor, .license-type {
  font-size: 0.8rem;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.vendor {
  background: #f8f9fa;
  color: #495057;
  border: 1px solid #e9ecef;
}

.license-type {
  background: #d1ecf1;
  color: #0c5460;
  border: 1px solid #bee5eb;
}

.assignment-date, .license-key {
  font-size: 0.8rem;
  color: #666;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  margin-top: 0.5rem;
}

.key-value {
  font-family: 'Courier New', monospace;
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-weight: 600;
}

/* Assets Panel Styling */
.assets-panel {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.assets-section {
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
  padding: 1.5rem;
}

.count-badge {
  background: var(--primary);
  color: white;
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  margin-left: 0.5rem;
}

.assets-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.asset-item-card {
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.asset-item-card:hover {
  background: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
}

.asset-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.asset-id-badge {
  background: var(--primary);
  color: white;
  padding: 0.3rem 0.6rem;
  border-radius: 6px;
  font-size: 0.8rem;
  font-weight: 600;
  font-family: 'Courier New', monospace;
}

.asset-name {
  margin: 0 0 0.5rem 0;
  font-size: 1rem;
  font-weight: 600;
}

.asset-name a {
  color: var(--primary);
  text-decoration: none;
}

.asset-name a:hover {
  text-decoration: underline;
}

.asset-details {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.5rem;
}

.asset-detail {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.detail-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: #666;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.detail-value {
  font-size: 0.85rem;
  color: #333;
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.assets-summary {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #f1f3f4;
}

.summary-stats {
  display: flex;
  gap: 2rem;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary);
}

.stat-label {
  font-size: 0.8rem;
  color: #666;
  font-weight: 500;
}

/* Empty States */
.empty-state-inline, .unassigned-assets {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 2rem;
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  text-align: left;
}

.empty-icon, .unassigned-icon {
  width: 48px;
  height: 48px;
  background: #e9ecef;
  color: #6c757d;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.empty-text, .unassigned-text {
  flex: 1;
}

.empty-text h4, .unassigned-text h4 {
  margin: 0 0 0.25rem 0;
  font-size: 1rem;
  color: #333;
}

.empty-text p, .unassigned-text p {
  margin: 0;
  font-size: 0.85rem;
  color: #666;
}

/* Modal Styling */
.modal-assets-container {
  max-height: 300px;
  overflow-y: auto;
  margin: 1rem 0;
  border: 1px solid #e9ecef;
  border-radius: 6px;
  background: #f8f9fa;
}

.assets-preview {
  padding: 1rem;
}

.modal-asset-card {
  background: white;
  border: 1px solid #e9ecef;
  border-radius: 6px;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
}

.modal-asset-card:last-child {
  margin-bottom: 0;
}

.modal-asset-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.modal-asset-id {
  background: var(--primary);
  color: white;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  font-family: 'Courier New', monospace;
}

.modal-asset-name {
  font-weight: 600;
  color: #333;
}

.modal-asset-details {
  font-size: 0.8rem;
  color: #666;
}

.warning-message {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background: #fff3cd;
  border: 1px solid #ffeaa7;
  border-radius: 6px;
  color: #856404;
  font-weight: 500;
  margin-top: 1rem;
}

/* Responsive Design */
@media (max-width: 768px) {
  .employee-details-layout {
    grid-template-columns: 1fr;
    gap: 1.5rem;
    padding: 0 1rem 1rem;
  }

  .assets-panel {
    order: -1;
  }

  .employee-meta {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }

  .asset-details {
    grid-template-columns: 1fr;
  }

  .summary-stats {
    justify-content: center;
  }

  .header-actions .action-buttons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
  }
}

@media (max-width: 480px) {
  .header-actions .action-buttons {
    grid-template-columns: 1fr;
  }

  .employee-details-layout {
    padding: 0 0.5rem 0.5rem;
  }

  .info-section, .assets-section {
    padding: 1rem;
  }

  .empty-state-inline, .unassigned-assets {
    flex-direction: column;
    text-align: center;
    gap: 0.75rem;
  }
}

/* Print Styles */
@media print {
  .header-actions,
  .quick-actions-section {
    display: none !important;
  }

  .employee-details-layout {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .info-section, .assets-section {
    border: 1px solid #333 !important;
    box-shadow: none !important;
  }

  .section-title {
    color: #333 !important;
  }

  .employee-status {
    border: 1px solid #333 !important;
    background: white !important;
    color: #333 !important;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .employee-id-display,
  .asset-id-badge,
  .key-value {
    border: 2px solid #333;
  }

  .software-assignment-card,
  .asset-item-card {
    border: 2px solid #333;
  }
}
</style>
