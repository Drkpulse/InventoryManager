<div class="item-detail">
  <h1><%= item.name %></h1>
  <div class="item-id"><%= item.cep_brc %></div>

  <div class="item-details">
    <div class="details-section">
      <h3>Item Details</h3>

      <div class="detail-group">
        <div class="detail">
          <span class="label">Type:</span>
          <span class="value"><%= item.type_name || 'N/A' %></span>
        </div>

        <div class="detail">
          <span class="label">Brand:</span>
          <span class="value"><%= item.brand_name || 'N/A' %></span>
        </div>

        <div class="detail">
          <span class="label">Model:</span>
          <span class="value"><%= item.model || 'N/A' %></span>
        </div>

        <div class="detail">
          <span class="label">Serial Number:</span>
          <span class="value"><%= item.serial_cod || 'N/A' %></span>
        </div>

        <div class="detail">
          <span class="label">Price:</span>
          <span class="value">$<%= item.price ? item.price.toFixed(2) : '0.00' %></span>
        </div>
      </div>
    </div>

    <div class="details-section">
      <h3>Purchase Information</h3>

      <div class="detail-group">
        <div class="detail">
          <span class="label">Receipt:</span>
          <span class="value"><%= item.receipt || 'N/A' %></span>
        </div>

        <div class="detail">
          <span class="label">Supplier:</span>
          <span class="value"><%= item.supplier || 'N/A' %></span>
        </div>

        <div class="detail">
          <span class="label">Date Acquired:</span>
          <span class="value">
            <%= item.date_acquired ? new Date(item.date_acquired).toLocaleDateString() : 'N/A' %>
          </span>
        </div>
      </div>
    </div>

    <div class="details-section">
      <h3>Assignment Information</h3>

      <div class="detail-group">
        <div class="detail">
          <span class="label">Assigned To:</span>
          <span class="value">
            <% if (item.assigned_to_name) { %>
              <a href="/employees/<%= item.employee_id %>"><%= item.assigned_to_name %></a>
            <% } else { %>
              Unassigned
            <% } %>
          </span>
        </div>

        <div class="detail">
          <span class="label">Date Assigned:</span>
          <span class="value">
            <%= item.date_assigned ? new Date(item.date_assigned).toLocaleDateString() : 'N/A' %>
          </span>
        </div>
      </div>

      <div class="assignment-actions">
        <% if (item.assigned_to) { %>
          <form style="display: inline;" method="POST" action="/items/<%= item.id %>/<%= item.cep_brc %>/unassign">
            <button type="submit" class="btn">Unassign</button>
          </form>
        <% } else { %>
          <a href="/items/<%= item.id %>/<%= item.cep_brc %>/assign" class="btn">Assign Item</a>
        <% } %>
      </div>
    </div>
  </div>

  <div class="actions">
    <a href="/items" class="btn">Back to Inventory</a>
    <a href="/items/<%= item.id %>/<%= item.cep_brc %>/edit" class="btn">Edit Item</a>
    <form style="display: inline;" method="POST" action="/items/<%= item.id %>/<%= item.cep_brc %>/delete">
      <button type="submit" class="btn btn-danger delete-btn">Delete Item</button>
    </form>
  </div>
</div>

<style>
  .item-detail {
    background-color: white;
    border-radius: 8px;
    padding: 2rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .item-id {
    color: #666;
    margin-bottom: 1.5rem;
    font-size: 1.1rem;
  }

  .details-section {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #eee;
  }

  .details-section:last-child {
    border-bottom: none;
  }

  .details-section h3 {
    margin-bottom: 1rem;
    color: var(--secondary);
  }

  .detail-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
  }

  .detail {
    margin-bottom: 0.5rem;
  }

  .label {
    font-weight: 600;
    color: #444;
    display: block;
  }

  .value {
    display: block;
  }

  .assignment-actions {
    margin-top: 1rem;
  }

  .actions {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid #eee;
  }
</style>
