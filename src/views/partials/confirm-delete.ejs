<div class="modal" id="confirmDeleteModal">
  <div class="modal-content">
    <h4>Confirm Delete</h4>
    <p>Are you sure you want to delete this item? This action cannot be undone.</p>
    <div class="modal-actions">
      <button id="confirmDelete" class="btn btn-danger">Delete</button>
      <button id="cancelDelete" class="btn">Cancel</button>
    </div>
  </div>
</div>

<style>
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
  }

  .modal-content {
    background-color: #fff;
    margin: 15% auto;
    padding: 2rem;
    border-radius: 8px;
    width: 80%;
    max-width: 500px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }

  .modal-actions {
    margin-top: 1.5rem;
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('confirmDeleteModal');
    const confirmBtn = document.getElementById('confirmDelete');
    const cancelBtn = document.getElementById('cancelDelete');
    let currentForm = null;

    // Set up all delete buttons to show the modal
    document.querySelectorAll('.delete-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        currentForm = this.closest('form');
        modal.style.display = 'block';
      });
    });

    // Handle confirmation
    confirmBtn.addEventListener('click', function() {
      if (currentForm) {
        currentForm.submit();
      }
      modal.style.display = 'none';
    });

    // Handle cancellation
    cancelBtn.addEventListener('click', function() {
      modal.style.display = 'none';
    });

    // Close when clicking outside
    window.addEventListener('click', function(event) {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    });
  });
</script>
