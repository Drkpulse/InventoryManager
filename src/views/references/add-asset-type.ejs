<div class="page-header">
	<h1>Add Asset Type</h1>
  </div>

  <!-- Flash Messages -->
  <% if (typeof error !== 'undefined' && error.length > 0) { %>
	<div class="alert alert-danger">
	  <% error.forEach(msg => { %>
		<p><%= msg %></p>
	  <% }) %>
	</div>
  <% } %>

  <% if (typeof success !== 'undefined' && success.length > 0) { %>
	<div class="alert alert-success">
	  <% success.forEach(msg => { %>
		<p><%= msg %></p>
	  <% }) %>
	</div>
  <% } %>

  <form method="POST" action="/references/asset-types" id="assetTypeForm">
	<div class="form-group">
	  <label for="name">Asset Type Name</label>
	  <input type="text" id="name" name="name"
			 value="<%= getFormValue("name") ? getFormValue("name") : '' %>"
			 required>
	  <small>Name of the asset type (e.g., Laptop, Desktop, Monitor, Printer)</small>
	</div>

	<div class="form-group">
	  <label for="description"><%= t("items.description") %></label>
	  <textarea id="description" name="description" rows="3"><%= getFormValue("description") ? getFormValue("description") : '' %></textarea>
	  <small>Optional description explaining what this asset type represents</small>
	</div>

	<div class="form-group">
	  <button type="submit" class="btn">Add Asset Type</button>
	  <a href="/references/asset-types" class="btn"><%= t("common.cancel") %></a>
	</div>
  </form>

  <link rel="stylesheet" href="/css/styles.css">

  <script>
  document.addEventListener('DOMContentLoaded', function() {
	const form = document.getElementById('assetTypeForm');
	const nameField = document.getElementById('name');

	form.addEventListener('submit', function(e) {
	  console.log('Form submitted!');
	  console.log('Action:', this.action);
	  console.log('Method:', this.method);

	  const formData = new FormData(this);
	  console.log('Form data:');
	  for (let [key, value] of getFormValue("entries")()) {
		console.log(key, ':', value);
	  }

	  // Basic validation
	  const name = nameField.value.trim();
	  if (!name) {
		e.preventDefault();
		alert('Asset type name is required!');
		nameField.focus();
		return false;
	  }
	});
  });
  </script>

