<div class="mb-8">
  <h1 class="text-2xl font-bold text-gray-800 dark:text-gray-100">Add Status</h1>
</div>

<% if (typeof errors !== 'undefined' && errors.length > 0) { %>
  <div class="mb-4 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 px-4 py-3 rounded">
    <ul class="list-disc pl-5">
      <% errors.forEach(error => { %>
        <li><%= error %></li>
      <% }) %>
    </ul>
  </div>
<% } %>

<div class="max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md">
  <form method="POST" action="/references/statuses" class="space-y-6">
    <div>
      <label for="name" class="block font-semibold mb-1 text-gray-700 dark:text-gray-200">Status Name</label>
      <input type="text" id="name" name="name"
        value="<%= typeof formData !== 'undefined' ? formData.name : '' %>" required
        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
      <small class="text-gray-500 dark:text-gray-400">Name of the status (e.g., Active, Inactive, Under Repair, Retired)</small>
    </div>

    <div>
      <label for="description" class="block font-semibold mb-1 text-gray-700 dark:text-gray-200">Description</label>
      <textarea id="description" name="description" rows="3"
        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"><%= typeof formData !== 'undefined' ? formData.description : '' %></textarea>
      <small class="text-gray-500 dark:text-gray-400">Optional description explaining what this status represents</small>
    </div>

    <div>
      <label for="color" class="block font-semibold mb-1 text-gray-700 dark:text-gray-200">Status Color</label>
      <select id="color" name="color"
        class="w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
        <option value="green" <%= typeof formData !== 'undefined' && formData.color === 'green' ? 'selected' : '' %>>Green (Active/Good)</option>
        <option value="yellow" <%= typeof formData !== 'undefined' && formData.color === 'yellow' ? 'selected' : '' %>>Yellow (Warning/Attention)</option>
        <option value="red" <%= typeof formData !== 'undefined' && formData.color === 'red' ? 'selected' : '' %>>Red (Problem/Inactive)</option>
        <option value="blue" <%= typeof formData !== 'undefined' && formData.color === 'blue' ? 'selected' : '' %>>Blue (Information)</option>
        <option value="gray" <%= typeof formData !== 'undefined' && formData.color === 'gray' ? 'selected' : '' %>>Gray (Neutral)</option>
      </select>
      <small class="text-gray-500 dark:text-gray-400">Color coding for this status in reports and displays</small>
    </div>

    <div>
      <label class="flex items-center gap-2 cursor-pointer">
        <input type="checkbox" name="is_active" value="true"
          <%= typeof formData !== 'undefined' && formData.is_active ? 'checked' : 'checked' %>
          class="form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500">
        <span class="font-semibold text-gray-700 dark:text-gray-200">Active Status</span>
      </label>
      <small class="text-gray-500 dark:text-gray-400">Whether items with this status are considered active/in-use</small>
    </div>

    <div class="flex items-center gap-4 mt-8">
      <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md transition flex items-center gap-2">
        <i class="fas fa-plus"></i> Add Status
      </button>
      <a href="/references/statuses" class="px-6 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-md transition flex items-center gap-2">
        <i class="fas fa-times"></i> Cancel
      </a>
    </div>
  </form>
</div>

<link rel="stylesheet" href="/css/styles.css">
