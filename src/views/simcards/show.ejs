<div class="page-container">
  <div class="page-header-simple">
    <h1><i class="fas fa-sim-card"></i> SIM Card Details: <%= simCard.sim_number %></h1>
    <div class="header-actions">
      <div class="action-buttons">
        <a href="/simcards" class="btn btn-secondary">
          <i class="fas fa-arrow-left"></i> Back to SIM Cards
        </a>
        <a href="/simcards/<%= simCard.id %>/edit" class="btn btn-primary">
          <i class="fas fa-edit"></i> Edit SIM Card
        </a>
      </div>
    </div>
  </div>

  <% if (locals.messages && messages.success) { %>
    <div class="alert alert-success">
      <i class="fas fa-check-circle"></i>
      <%= messages.success %>
    </div>
  <% } %>

  <div class="info-container">
    <div class="info-section">
      <h3><i class="fas fa-info-circle"></i> SIM Card Information</h3>
      
      <div class="info-item">
        <label>SIM Number:</label>
        <span><%= simCard.sim_number %></span>
      </div>
      <div class="info-item">
        <label>Carrier:</label>
        <span><%= simCard.carrier %></span>
      </div>
      <div class="info-item">
        <label>Monthly Cost:</label>
        <span>
          <% if (simCard.monthly_cost) { %>
            â‚¬<%= parseFloat(simCard.monthly_cost).toFixed(2) %>/month
          <% } else { %>
            Not specified
          <% } %>
        </span>
      </div>
      <div class="info-item">
        <label>Status:</label>
        <span>
          <% if (simCard.status_name) { %>
            <span class="badge badge-info"><%= simCard.status_name %></span>
          <% } else { %>
            <span class="text-muted">No status</span>
          <% } %>
        </span>
      </div>
      <div class="info-item">
        <label>Client:</label>
        <span>
          <% if (simCard.client_name) { %>
            <a href="/clients/<%= simCard.client_id %>">
              <%= simCard.client_name %> (<%= simCard.client_code %>)
            </a>
          <% } else { %>
            <span class="text-muted">No client assigned</span>
          <% } %>
        </span>
      </div>
      <div class="info-item">
        <label>Assigned PDA:</label>
        <span>
          <% if (simCard.pda_serial) { %>
            <a href="/pdas/<%= simCard.pda_id %>">
              <%= simCard.pda_serial %> 
              <% if (simCard.pda_model) { %>
                (<%= simCard.pda_model %>)
              <% } %>
            </a>
          <% } else { %>
            <span class="text-muted">Unassigned</span>
          <% } %>
        </span>
      </div>
      <div class="info-item">
        <label>Created:</label>
        <span><%= new Date(simCard.created_at).toLocaleDateString() %></span>
      </div>
      <div class="info-item">
        <label>Last Updated:</label>
        <span><%= new Date(simCard.updated_at).toLocaleDateString() %></span>
      </div>
    </div>
  </div>

  <div class="actions-section">
    <a href="/simcards/<%= simCard.id %>/history" class="btn btn-info">
      <i class="fas fa-history"></i> View History
    </a>
    <a href="/simcards/<%= simCard.id %>/edit" class="btn btn-warning">
      <i class="fas fa-edit"></i> Edit SIM Card
    </a>
    <button onclick="confirmDelete()" class="btn btn-danger">
      <i class="fas fa-trash"></i> Delete SIM Card
    </button>
  </div>
</div>

<script>
function confirmDelete() {
  if (confirm('Are you sure you want to delete this SIM card? This action cannot be undone.')) {
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = '/simcards/<%= simCard.id %>/delete';
    document.body.appendChild(form);
    form.submit();
  }
}
</script>